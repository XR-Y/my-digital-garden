---
{"dg-publish":true,"permalink":"/æ—¥å¸¸å­¦ä¹ /Obsidianæ˜¯å¦‚ä½•æˆä¸ºåšå®¢çš„/","noteIcon":"1","created":"2023-09-20T21:35:09.212+08:00","updated":"2023-09-22T21:00:11.080+08:00"}
---


# 0. ä¸€åˆ‡çš„èµ·æº

ä¼—æ‰€å‘¨çŸ¥ï¼Œåšå®¢çš„éƒ¨ç½²ã€è¿è¥ã€ç»´æŠ¤å’Œå¤‡æ¡ˆå¹¶ä¸ç®€å•ï¼Œå¦‚é€šå¸¸ä¸ä¼šç›´æ¥åœ¨ç®¡ç†ç³»ç»Ÿåå°å†™åšæ–‡å‘å¸ƒï¼Œè€Œæ˜¯é€‰æ‹©å…¶å®ƒåŠŸèƒ½æ›´é½å…¨ï¼Œå¤–è§‚æ›´ç¾è§‚çš„ç¬”è®°è½¯ä»¶å®Œæˆåå¤åˆ¶ç²˜è´´åˆ°åå°å‘å¸ƒï¼Œä»¥åŠå¤‡æ¡ˆè¿‡æœŸã€åŸŸåè¿‡æœŸã€æœåŠ¡å™¨è¿‡æœŸç­‰å„ç§è¿ç§»é—®é¢˜ã€‚é€‰æ‹©å·²æœ‰çš„äº§å“å¦‚è¯­é›€ã€é£ä¹¦ç­‰ï¼Œåˆå§‹ç»ˆå¯¹æ•°æ®å®‰å…¨å’Œè‡ªå®šä¹‰åº¦æœ‰æ‰€ç¼ºæ†¾ã€‚å¯¹äº Notionï¼Œå›½å†…è®¿é—®ä¸å‹å¥½å§‹ç»ˆæ˜¯ç»•ä¸å¼€çš„é—®é¢˜ã€‚
ä¸æ­¤åŒæ—¶ï¼Œåœ¨å®ç°äº†é™¤æ–‡çŒ®å¤–çš„è®°å½• **ALL IN OBSIDIAN** åï¼Œæœ‰ä¸€ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼Œå°±æ˜¯å‘å¸ƒåŠŸèƒ½æ˜¯ä»˜è´¹æœåŠ¡ï¼Œå¹¶ä½œä¸º obsidian éš¾å¾—çš„ç›ˆåˆ©ç‚¹ï¼Œä»·æ ¼å¯¹æœ¬ç©·è‹¦å¤§å­¦ç”Ÿè€Œè¨€å¹¶ä¸å‹å¥½ã€‚
å¹¸è¿çš„æ˜¯ï¼ŒDigital Garden æ’ä»¶å¾ˆå¥½åœ°è§£å†³äº†ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜ï¼Œå®ç°äº†ä»ç¬”è®°åˆ°åšå®¢å‘å¸ƒçš„ä¸€é”®å¼æµç¨‹ï¼Œå°¤å…¶æ˜¯æ— éœ€æ“å¿ƒæ ¼å¼å·®å¼‚ï¼ˆmarkdown åµŒå…¥ï¼‰é—®é¢˜ã€‚
<br>

# 1. å¸ƒå‘Šå¤©ä¸‹

## 1.1 æ——å¼€å¾—èƒœ

å®‰è£… Digital Garden æ’ä»¶åï¼Œå°†è¿™ä¸ª[Github åº“](https://github.com/oleeskild/digitalgarden)æ‰“å¼€ï¼Œé€‰æ‹© Deployï¼Œå¹³å°é€‰æ‹©çš„æ˜¯ Vercelï¼ˆå…è´¹ç‰ˆå®Œå…¨è¶³å¤Ÿä¸ªäººä½¿ç”¨+ç”¨æˆ·é‡å¤§è§£å†³ç–‘éš¾æ‚ç—‡å®¹æ˜“ï¼‰ã€‚
éƒ¨ç½²æˆåŠŸ âœ…ï¼ˆstatus è½¬ä¸º readyï¼‰åï¼Œåœ¨ Digital Garden è®¾ç½®é¡µè®¾å®šå¥½å¯¹åº”çš„é…ç½®ï¼Œä½ å°±å¯ä»¥å¼€å§‹éšå¿ƒæ‰€æ¬²å‘å¸ƒæ–‡ç« äº†ã€‚ä¸»è¦é€šè¿‡ç¬”è®°å¤´éƒ¨çš„ properties æ§åˆ¶ï¼Œdg-publish è¡¨ç¤ºæ˜¯å¦å‘å¸ƒï¼Œdg-pinned è¡¨ç¤ºå›ºå®šåœ¨æ–‡ä»¶ç›®å½•æ ‘å¤´éƒ¨ï¼Œdg-home è¡¨ç¤ºè®¾ç½®ä¸ºèµ·å§‹é¡µï¼Œtag æ˜¯è‡ªè¡Œæ·»åŠ çš„æ ‡ç­¾ç­‰ç­‰ã€‚
å¦å¤–ï¼Œæ¯æ¬¡æ›´æ–°ä¹Ÿç›´æ¥é€šè¿‡å‘å¸ƒä¸­å¿ƒæ§åˆ¶å³å¯ï¼Œç•Œé¢å‹å¥½ç¾è§‚æ˜“æ“ä½œã€‚
![image.png](https://s2.loli.net/2023/09/22/pqoEVcn8stIxUMy.png)

## 1.2 æ€¥è½¬ç›´ä¸‹

ç„¶åï¼Œå°±é‡åˆ°äº†ä¸€ä¸ªå¾ˆå°´å°¬çš„é—®é¢˜ï¼Œvercel ç”±äºéƒ¨åˆ†ç”¨æˆ·çš„æ»¥ç”¨ï¼Œå·²ç»åŸºæœ¬è¢«**å¢™**åœ¨å¤–äº†ï¼Œè€Œåšå®¢å‘å¸ƒå°±æ˜¯ç»™äººçœ‹çš„ï¼Œå°¤å…¶æ˜¯å›½å†…ç”¨æˆ·ï¼Œæ˜¾ç„¶æ— æ³•æ¥å—â€¦â€¦
å¥½ï¼Œå°±çŸ¥é“æœç„¶ä¸å¯èƒ½é‚£ä¹ˆé¡ºåˆ©ï¼Œæ…¢æ…¢æ¥ ğŸ˜´

## 1.2 æ›²å¾„é€šå¹½

é¦–å…ˆï¼Œä¹°ä¸ªåŸŸåï¼Œåæ­£è‡ªå·±åšå®¢è‚¯å®šä¹Ÿè¦ä¸ªå¥½çœ‹ç‚¹çš„åŸŸåï¼Œvercel é‚£ä¸€é•¿ä¸²æ—¢ä¸å¥½è®°ä¹Ÿä¸åˆ©äºåˆ†äº«ã€‚å›½å†…å„å¤§å‚å•†å¯ä¹°ï¼ŒNamesilo ç­‰å›½å¤–ä½ä»·å‚å•†ä¹Ÿå¯ï¼Œè¿˜å¯ä»¥å‰‘èµ°åé”‹ææå…è´¹åŸŸåï¼Œä¸é€‰.com æˆ–è€….cn è¿™ç§åº”è¯¥éƒ½æŒºä¾¿å®œï¼Œä¸€å¹´å‡ å—é’±ã€‚
åˆå¿ƒåˆ«å¿˜äº†ï¼Œæ˜¯ä¸ºäº†å›½å†…æ›´å¥½åœ°è®¿é—®ï¼Œå› æ­¤ä½¿ç”¨ Cloudflareï¼ˆæµ·å¤– CDNï¼‰æ¥è§£é™¤å°å°ï¼Œè™½ç„¶ Cloudflare è¢«ç§°ä¸ºå‡é€Ÿ CDNï¼Œä½†åŠ ä¸Šåè®¿é—® Vercel çš„é€Ÿåº¦è¿˜ç®—å¯ä»¥æ¥å—ï¼Œè€Œä¸”ç™½å«–è¦ä»€ä¹ˆè‡ªè¡Œè½¦ï¼Œå·®ä¸å¤šå¤Ÿç”¨å°±å¥½ã€‚
æ‰€ä»¥åªéœ€è¦å°†åŸŸåä»ä»£ç†å•†è½¬åˆ° Cloudflare æ¥ç®¡å¹¶é…ç½®å¥½ DNSï¼ˆä¸»è¦æ˜¯ A å’Œ CNAMEï¼‰ï¼Œå…¶ä¸­æ¶‰åŠåˆ° Vercel åŸŸåçš„è®°å¾—ä½¿ç”¨`cname-china.vercel-dns.com`ã€‚åŒæ ·ï¼ŒVercel å¤„ä¹Ÿå¯¹åº”é…ä¸Šè´­ä¹°çš„åŸŸåï¼Œè‡ªåŠ¨ç”Ÿæˆ SSL è¯ä¹¦å¹¶æ ¡éªŒé€šè¿‡åï¼Œå°±å¯ä»¥å°è¯•å›½å†…è®¿é—®äº†ï¼Œæ€»ä½“é€Ÿåº¦è¿˜è¡Œï¼ï¼ˆä¸‹å›¾æ¯æ¬¡æµ‹è¯•éšæœºæ³¢åŠ¨æ€§è¾ƒå¤§ï¼Œ**ä»…ä¾›å‚è€ƒ**ï¼‰
![Snipaste_2023-09-20_22-23-13.jpg](https://s2.loli.net/2023/09/20/eDUvEgCncWSVwR1.jpg)

> [!hint]+ ä¸€ç‚¹å»ºè®®
> åªéœ€è¦æ–‡ç« å‘å¸ƒåŠŸèƒ½ï¼Œå°±å¯ä»¥åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œåç»­ç« èŠ‚ä»…ä¾›ä¹ æƒ¯æŠ˜è…¾ï¼Œå¹¶ä¹åœ¨å…¶ä¸­çš„ç”¨æˆ·å‚è€ƒã€‚
> <br>

# 2. æµ·çº³ç™¾å·

## 2.1 ç™¾å®¶äº‰é¸£

åšå®¢æ˜¯ä¸å¯èƒ½ç¼ºå°‘è¯„è®ºç³»ç»Ÿçš„ï¼Œå¹¸è¿çš„æ˜¯ï¼ŒDigital Garden æ’ä»¶æä¾›äº†å……è¶³çš„**è‡ªå®šä¹‰ç©ºé—´**ã€‚æœ¬åšå®¢é€‰ç”¨äº†[Waline](https://waline.js.org/)ï¼Œä¼˜åŠ¿æ˜¯å¼€ç®±å³ç”¨ï¼Œä¸éœ€è¦é¢å¤–æŠ˜è…¾å®¡æ ¸å’Œæ•°æ®å­˜å‚¨ç­‰ã€‚åŒæ ·ï¼Œéƒ¨ç½²åˆ° vercelï¼Œå†å€ŸåŠ©åŸŸåå’Œ Cloudflare åŠ é€Ÿå›½å†…è®¿é—®ï¼Œè¿™é‡Œç»™ Waline çš„åŸŸåé‡‡ç”¨åˆšåˆšè´­ä¹°åŸŸåçš„äºŒçº§åŸŸåå³å¯ã€‚éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®`{ä½ çš„WalineåŸŸå}/ui/register`æ³¨å†Œæˆä¸ºç®¡ç†å‘˜ï¼Œå³å¯è¿›å…¥è¯„è®ºåå°ç®¡ç†ç³»ç»Ÿã€‚
æ¥ç€ï¼Œå°±æ˜¯å°†ä½ çš„ Waline ç³»ç»ŸåµŒå…¥åˆ°åˆšåˆšå‘å¸ƒçš„åšå®¢é¡µé¢ä¸­ã€‚å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œåªéœ€è¦åœ¨`{ä½ çš„ç¬”è®°è·¯å¾„}\src\site\_includes\components\user\common\footer`æ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸€ä¸ª`njk`åç¼€çš„æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š

```html
<hr class="content">
<div class="content" id="waline"></div>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"/>

<hr class="content">
<div class="content" id="waline"></div>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"/>
    <script type="module">
        import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
        init({
            el: '#waline',
            serverURL: $ä½ çš„ waline ç³»ç»Ÿåœ°å€$,
            emoji: [
                '//unpkg.com/@waline/emojis@1.2.0/weibo',
                '//unpkg.com/@waline/emojis@1.2.0/bmoji',
            ],
            reaction: true,
            dark: 'auto',
        });
</script>
<hr>
```

å…¶ä¸­ï¼Œemoji ä¸ºè¯„è®ºç³»ç»Ÿå¯ç”¨å¤‡é€‰è¡¨æƒ…ï¼Œdark ä¸ºæ·±è‰²æ¨¡å¼æ§åˆ¶ï¼Œreaction åˆ™æ˜¯æ–‡ç« æœ«å°¾çš„ç”¨æˆ·ååº”ï¼Œæ›´å¤š Waline é…ç½®å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚

## 2.2 é›è¿‡ç•™ç—•

å®é™…ä¸Šæ˜¯æ¯”è¾ƒé¸¡è‚‹çš„åŠŸèƒ½ï¼Œä½†æ—¢ç„¶ Waline æä¾›äº†ï¼Œé‚£ç”¨ä¸Šæ— å¦¨ã€‚å¦‚æœæ˜¯æ‰“ç®—å†™åœ¨æœ«å°¾ï¼Œç›´æ¥åœ¨åˆšæ‰çš„ `njk` æ–‡ä»¶å†…é™„åŠ ä¸Šå¦‚ä¸‹ä»£ç å³å¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå—å‡ ææ’ä»¶çš„å¯å‘ï¼Œåœ¨æœ«å°¾ä¹Ÿæ·»ä¸Šäº†[ä»Šæ—¥è¯—è¯ API](https://www.jinrishici.com/)çš„è°ƒç”¨ã€‚

```html
<div class="content" align="center">
    <h3 id="jinrishici-sentence" class="content">æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....</h3>
    <span id="poem_info"></span>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script type="text/javascript">
        jinrishici.load(function(result) {
            var sentence = document.querySelector("#jinrishici-sentence")
            var info = document.querySelector("#poem_info")
            sentence.innerHTML = result.data.content
            info.innerHTML = 'ã€' + result.data.origin.dynasty + 'ã€‘' + result.data.origin.author + 'ã€Š' + result.data.origin.title + 'ã€‹'
        });
    </script>
    <h5 class="content">2022â€“2023 XRYU</h5>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
</div>
```

<br>
# 3. ç²¾ç»†å…¥å¾®

## 3.1 å­—å­—ç ç‘

åŒæ ·ï¼Œè¿™æ¬¡åœ¨ header æ–‡ä»¶å¤¹ä¸‹æ–°å»ºå¯¹åº”çš„ `njk` æ–‡ä»¶ï¼Œå¼•å…¥å¯¹åº”çš„å­—ä½“æ ·å¼ã€‚ç„¶ååœ¨`{ä½ çš„ç¬”è®°è·¯å¾„}\src\site\styles\user`ç›®å½•ä¸‹æ–°å»º SCSS æ–‡ä»¶ï¼Œè°ƒç”¨å¼•ç”¨çš„å­—ä½“å³å¯ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå³ä½¿æ˜¯åœ¨ Digital Garden æ›´æ–°æ–‡ç« å‘å¸ƒçš„ä¸»é¢˜æ ·å¼ï¼Œä¹Ÿä¸ä¼šå½±å“å­—ä½“ä¿®æ”¹ã€‚å¦‚ï¼Œä¿®æ”¹å­—ä½“ä¸ºéœé¹œæ–‡æ¥·å±å¹•é˜…è¯»ç‰ˆï¼š

```html
<link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css" />
```

<br>
```scss
body {
Â  Â  --font-default: "LXGW WenKai Screen", sans-serif;
}
```

## 3.2 é»‘ç™½æ— é—´

Waline é…ç½®å¥½è·Ÿéšç³»ç»Ÿåˆ‡æ¢æ·±æµ…è‰²æ¨¡å¼åï¼Œä¸»ç•Œé¢è‡ªç„¶ä¹Ÿè¦è·Ÿè¿›ï¼Œç›´æ¥åœ¨ header æ–‡ä»¶å¤¹ä¸‹åŠ å…¥è„šæœ¬ä»£ç å³å¯ã€‚

```html
<script>
    const darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
    document.addEventListener("DOMContentLoaded", function() {
        // åˆ¤æ–­æ˜¯å¦åŒ¹é…æ·±è‰²æ¨¡å¼
        if (darkMode && darkMode.matches) {
            document.body.classList.add('theme-dark');
            document.body.classList.remove('theme-light');
        } else {
            document.body.classList.add('theme-light');
            document.body.classList.remove('theme-dark');
        }
    });
    // ç›‘å¬ä¸»é¢˜åˆ‡æ¢äº‹ä»¶
    darkMode && darkMode.addEventListener('change', e => {
        if (e.matches) {
            document.body.classList.add('theme-dark');
            document.body.classList.remove('theme-light');
        } else {
            document.body.classList.add('theme-light');
            document.body.classList.remove('theme-dark');
        }
    });
</script>
```

## 3.3 ä¸€å­—åƒé‡‘

ç²—ç•¥ä¸€çœ‹ï¼Œå®˜æ–¹ç«Ÿç„¶æ²¡æœ‰æä¾›å­—æ•°ç»Ÿè®¡åŠŸèƒ½ï¼Œé‚£å°±åªèƒ½è‡ªå·±æ‰‹åŠ¨å†™ä¸ªå‹‰å¼ºå¤Ÿç”¨çš„äº†ï¼ŒåŠ åœ¨ beforeContent æ–‡ä»¶å¤¹ä¸‹æœ€åˆé€‚ï¼ŒåŒæ ·æ˜¯`njk`åç¼€æ–‡ä»¶ã€‚

```html
<span id="wordCount" style="color: var(--text-muted); font-size:14px;"></span>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function() { // ä¸€å®šè¦æ³¨æ„åˆ¤æ–­æ˜¯å¦åŠ è½½å®Œæˆï¼
    var count = 0; // ç»Ÿè®¡å­—æ•°
    var str = document.getElementsByTagName("main")[0].innerHTML; // ç½‘é¡µæ–‡å­—åŒ…å«æ ‡ç­¾
    var tmpDiv = document.createElement("div");
    tmpDiv.innerHTML = str;
    str = tmpDiv.textContent || tmpDiv.innerText || "";
    str = str.replace(/\ +/g,"");
    str = str.replace(/[\r\n]/g,"");
    count = str.length;
    var time = Math.max(Math.floor(count / 400), 1); // é˜…è¯»æ—¶é—´ç›´æ¥ç®€å•ç²—æš´
    document.querySelector("#wordCount").innerHTML = String.fromCodePoint("0x1F4D6") + 'æœ¬æ–‡çº¦ ' + count + ' å­—ï¼Œé¢„è®¡é˜…è¯»æ—¶é—´ ' + time + ' åˆ†é’Ÿã€‚';
  });
</script>
```

<br>
# 4. å¾®è¨€å¤§ä¹‰

Memosï¼Œä¸€ä¸ªè®°å½•çŸ­çµæ„Ÿå’Œå¤‡å¿˜å½•çš„å¼€æºå·¥å…·ï¼Œä½¿ç”¨ docker **ä¸€é”®éƒ¨ç½²**ï¼Œå’Œåšå®¢å®Œç¾äº’è¡¥ï¼ŒGitHub äº¦æœ‰ç§»åŠ¨ç«¯ã€å°ç¨‹åºç«¯ã€æµè§ˆå™¨æ’ä»¶ç­‰å¤šå¹³å°æ”¯æŒã€‚

<iframe src="https://usememos.com/" allow="fullscreen" allowfullscreen="" style="height:100%;width:100%; aspect-ratio: 16 / 9; "></iframe>
